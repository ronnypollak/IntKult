\documentclass[
	12pt,
    a4paper,
    egregdoesnotlikesansseriftitles, % Überschriften haben gleichen Font wie restlicher Text
    toc=chapterentrywithdots,
    oneside, openany,
    % twoside,openright,
    titlepage,
    parskip=half,
    headings=normal,  % reduces heading size
    listof=totoc,
    bibliography=totoc,
    index=totoc,
    captions=tableheading,  % caption below table
    % chapterprefix,
    listof=flat,
    numbers=noenddot, % kein Punkt nach Nummerierung im Inhaltsverzeichnis
    final]
    {scrbook}
    
% details about your thesis
\newcommand{\titel}{UML Class Diagrams: A Comprehensive Study of Aggregation, Composition, Dependencies, Interfaces, and Inheritance}
\newcommand{\artderarbeit}{Studienarbeit}  % {Bachelorarbeit,Masterarbeit}
\newcommand{\autor}{Ronny Pollak}
\newcommand{\modul}{Systementwurf und Systemdokumentation mit UML und SysML} 
%\newcommand{\modulzusatz}{Strategien,\,Architekturen\,und\,Algorithmen}
\newcommand{\matrikelnr}{123\,4567}
\newcommand{\dozent}{Prof.\,Dr.-Ing.\,Dipl.-Inf. Axel Hein}
\newcommand{\abgabedatum}{13.01.2023}
\newcommand{\keywords}{key, words}
%\newcommand{\studentname}{key, words}
%\newcommand{\studentMatnr}{key, words}
\newcommand{\studentStudiengang}{Master Informatik}


% custom head and foot
\usepackage[automark]{scrlayer-scrpage}
\pagestyle{scrheadings}
\ihead{\headmark}
\chead{}
\ohead{\pagemark}
\renewcommand*\chaptermarkformat{\chapappifchapterprefix{\ }% 
  \thechapter.\enskip}
% anderenfalls zu viel Abstand von Titeln zu oberem Seitenrand
\RedeclareSectionCommand[afterindent=false,beforeskip=0pt]{chapter}

\RedeclareSectionCommand[tocindent=0pt]{section}
\RedeclareSectionCommand[tocindent=0pt]{subsection}
%\RedeclareSectionCommand[tocnumwidth=70pt]{chapter}

\usepackage{scrhack}

% other packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern,relsize,textcomp,csquotes}
\usepackage{amsmath,amsfonts}
\usepackage[ngerman,english]{babel}  % flip for German thesis
\usepackage[final]{graphicx}
\usepackage{setspace,geometry,xcolor}
\usepackage{makeidx}
\usepackage{paralist,ifthen,todonotes}
\usepackage{url}
\usepackage[toc]{glossaries}
\usepackage{pdfpages}

% table setup
\usepackage{longtable}
\usepackage{array}
\usepackage{ragged2e}
\usepackage{lscape}


\usepackage{hyperref}


% configure your listings style
\usepackage{listings}
\lstset{
	tabsize=3,
	extendedchars=true,
	frame=single,
	showstringspaces=true,
	numbers=left,
	numberstyle=\small,
	breakautoindent=true
}

% page setup
% \setlength{\topskip}{\ht\strutbox}
\geometry{paper=a4paper,left=2.5cm,top=3.0cm,bindingoffset=.8cm}
\onehalfspacing
\frenchspacing
\linespread{1.25} % NEU
\clubpenalty = 10000
\widowpenalty = 10000 
\displaywidowpenalty = 10000

% some commands
\newcommand{\ua}{\mbox{u.\,a.\ }}
\newcommand{\zB}{\mbox{z.\,B.\ }}
\newcommand{\dahe}{\mbox{d.\,h.,\ }}
\newcommand{\bzw}{\mbox{bzw.\ }}
\newcommand{\bzgl}{\mbox{bzgl.\ }}
\newcommand{\eg}{\mbox{e.\,g.\ }}
\newcommand{\ie}{\mbox{i.\,e.\ }}
\newcommand{\wrt}{\mbox{w.\,r.\,t.\ }}
\newcommand{\etal}{\mbox{\emph{et.\,al.\ }}}


% TODO remove if not needed...
\usepackage{blindtext}
\usepackage{todonotes}

% NEU musste für Bilder eingefügt werden
\usepackage{graphicx}
% NEU:damit Bilder nicht rumfloaten und an einer BESTIMMTEN Stelle sind -> [H]
\usepackage{float}

% load glossary entries
\makenoidxglossaries
\loadglsentries{glossary}

%\counterwithout{figure}{chapter}
% um nicht die Nummer des Kapitels bei der Figure Nummerierung zu stehen haben

\sloppy
%damit \textt nicht über die zeile hinaus geht

\begin{document}
\setcounter{secnumdepth}{3}  % numerate subsections
\setcounter{tocdepth}{2}  % ...but don't include them in toc


\frontmatter
\include{cover}

\tableofcontents

\listoffigures
\clearpage %\cleardoublepage % https://golatex.de/wiki/%5Ccleardoublepage

\listoftables
\clearpage %\cleardoublepage

\renewcommand{\lstlistlistingname}{List of Listings}  % change for German thesis
\lstlistoflistings
\clearpage %\cleardoublepage

\mainmatter

\chapter{Introduction}

\section{Motivation}
This comprehensive study focuses on the various types of more complex relationships that can be represented in UML class diagrams. 
These relationships include \emph{aggregation}, \emph{composition}, \emph{dependencies}, \emph{interfaces}, \emph{abstract} classes and \emph{inheritance}. 
Each of these relationships reflects a specific type of connection between classes and serves a unique purpose in the design and implementation of object-oriented systems. 
The following sections define and provide examples of each of these relationships.
This paper extends the work of Levin [insert paper citation] and does not delve into the basic concepts, that will be mentioned in the next section, in great detail. The focus is on furthering the research and providing examples to support the points made.
By the end of this paper, readers should have a thorough understanding of the role of complex relationships in UML class diagrams and how to effectively use them to model object-oriented systems.

TODO Drone beispiele erwähnen

\section{Introduction to UML class diagram}
UML (Unified Modeling Language) class diagrams are a visual representation of the static structure of an object-oriented system. 
They are commonly used in software engineering to model the classes, attributes, operations, and relationships within a system, as well as the interactions between these components. 
A class in UML is a blueprint for an object, which is a runtime instance of that class. 
Classes are represented by rectangles in UML class diagrams, and typically contain three compartments: 
\begin{itemize}
	\item Class name
	\item \emph{Attributes}
	\item \emph{Operations}
\end{itemize}
Attributes are properties or characteristics of the class and are typically displayed in the middle compartment of the rectangle.
Operations are the behaviors or actions that the class can perform and are displayed in the bottom compartment of the rectangle.
In programming terms, these would be the variables and the methods or functions.
Basic relationships are called \emph{associations}. 
An Association indicates that one class has a reference to another class. \cite[p. 108-111]{uml}
The association is shown using a solid line with an open arrow at one end, indicating the direction of the relationship. \cite[p. 142-143]{uml}

\section{Structure}
%TODO Wie ist die Arbeit aufgebaut

\chapter{Complex UML class diagram relationships}
This chapter will examine various types of complex UML class diagram relationships in detail and how they are depicted.


\section{Aggregation and Composition}
Aggregation and composition are two types of relationships that can be represented in a UML class diagram. 
They both are subtypes of associations and represent a relationship between two classes in which one class has a reference to another class, but they differ in the degree to which the lifetime of the referenced class is tied to the referencing class.


\subsection{Aggregation}
Aggregation is a weaker form of relationship than composition and is indicated in a UML class diagram by a solid line with a hollow diamond at one end. 
It represents a "part-of" relationship between two classes, in which the referencing class (the class with the diamond) is composed of one or more instances of the referenced class (the class on the other end of the line).
The referencing class consists of the referenced class.
However, the lifetime of the referenced class is independent of the referencing class.
If the referencing class is destroyed, the referenced class may continue to exist.
This means that the part of a whole can exist without the whole.
In aggregation, as in associations, every combination of multiplicities is possible. \cite[p. 153]{uml}


\begin{figure}[h]
	\centering
	\includegraphics[width=0.8\textwidth]{figures/aggr_comp/aggr.jpg}
	\caption[Example aggregation]{Example of an aggregation}
	\label{fig:aggregation_example} 
\end{figure}

%TODO Class drone hat sich geändert von Levin

An example of an aggregation relationship involving a \texttt{Drone} class and a \texttt{Rotor} class is demonstrated in Figure \ref{fig:aggregation_example}. 

The \texttt{Drone} class  includes a private operation, \texttt{sendDroneToRecipient()}, which involves tasks such as navigating to the recipient's location, verifying the delivery details, and safely delivering the package.
The \texttt{Rotor} class, on the other hand, contains a private operation, \texttt{move()}, which is called by the \texttt{Drone} class's \texttt{sendDroneToRecipient()} operation and three private attributes, \texttt{velocity}, \texttt{horizontalDegree}, and \texttt{verticalDegree}, which control the movement of the drone in the air. 

The \texttt{Drone} class serves as the referencing class in this aggregation relationship and requires at least four \texttt{Rotor} instances to function properly. 
However, the drone has the capacity to utilize up to eight rotors at a time, as there are eight available slots for rotors on the drone. 
Each \texttt{Rotor} instance can be part of one or no drones at a given time.

If the \texttt{Rotor} instances become worn down or the weather conditions change, they can be replaced with new or specialized rotors. 
The destruction of a \texttt{Rotor} instance does not affect the existence of the \texttt{Drone}, and conversely, the destruction of a \texttt{Drone} instance does not affect the \texttt{Rotor} instances.

TODO: Qualifizierte Assoziation
   Darstellung einer ternären Assoziationn


\subsection{Composition}

In a UML class diagram, composition is a stronger form of relationship than aggregation and is represented by a solid line with a solid diamond at one end pointing towards the composite class. It represents a whole-part relationship between two classes, in which the whole class, known as the composite, is composed of one or more instances of the part class, known as the component.

The composite class is responsible for the lifecycle of the component class, meaning that the composite class creates and destroys the component class as needed. The component class cannot exist independently of the composite class and is tightly bound to the composite class. This is in contrast to an aggregation relationship, where the component class can exist independently of the aggregate class.

The multiplicities available for use in a composition relationship are restricted compared to those in an aggregation relationship. While a whole can have any number of parts, a part can only contribute to one whole. The multiplicity indicated by the solid diamond in a composition relationship is fixed at 0, 0..1, or 1. In many cases, the multiplicity is left out, which implies a multiplicity of 1. A multiplicity of 0 does not make sense in a composition relationship, and a multiplicity of 0..1 means that the parts are capable of existing independently for a certain period of time.
 \cite[p. 153-154]{uml}

\begin{figure}[h]
\centering
\includegraphics[width=0.8\textwidth]{figures/aggr_comp/comp.jpg}
\caption[Example composition]{Example of a composition}
\label{fig:composition_example}
\end{figure}


In Figure \ref{fig:composition_example}, an example of a composition relationship between the \texttt{Drone} class and the \texttt{Chipset} class is displayed. The \texttt{Chipset} class contains the private attribute \texttt{cores}, which stores information about the number of cores present in the chipset, and the public attribute \texttt{temperature}, which reflects the temperature of the chipset. As a vital component of the drone, the chipset is responsible for processing data and issuing commands to other parts of the drone. Without a functioning chipset, the drone would be unable to operate.

This design also incorporates an anti-theft concept, in which each chipset is uniquely bound to a specific drone. The number of chipsets used by the drone may vary based on their efficiency and the desired level of efficiency for the drone.


\section{Dependencies}

In UML, a dependency is a relationship between two elements in which one element (the client) uses or depends on another element (the supplier) for specification or implementation.
The dependency represents a semantic or structural relationship between the supplier and the client, indicating that the client is dependent on the supplier in some way (Booch, Rumbaugh, und Jacobson, 1998).
%TODO Quelle
A dependency indicates that the connection between the two elements is at a higher level of abstraction than an association relationship.
Dependencies can be represented in various UML diagrams, including class diagrams, component diagrams, deployment diagrams, and use-case diagrams. 
To represent a dependency in a UML diagram, a dashed line with an open arrow pointing from the client to the supplier is used. 
In some cases, stereotypes may be used to show the precise nature of the dependency.


The following Table \ref{tab:dependencies} shows the different types of dependencies, their stereotype and a description.

\vspace{1em}
{\RaggedRight
\begin{longtable} {|p{3.5cm}|p{3.25cm}|p{6.5cm}|}
		\hline
		\textbf{Type of dependency} & \textbf{Stereotype} & \textbf{Description} \\
		\hline
		Abstraction & «abstraction», «derive», «refine», or «trace» & Relates two model elements, or sets of model elements, that represent the same concept at different levels of abstraction, or from different viewpoints  \\ 
		\hline
		Binding & 	«bind» & Connects template arguments to template parameters to create model elements from templates \\ 
		\hline
		Realization & «realize» & 	Indicates that the client model element is an implementation of the supplier model element, and the supplier model element is the specification \\ 
		\hline
		Substitution & «substitute» & Indicates that the client model element takes the place of the supplier; the client model element must conform to the contract or interface that the supplier model element establishes  \\ 
		\hline
		Usage & «use», «call», «create», «instantiate», or «send» & Indicates that one model element requires another model element for its full implementation or operation  \\ 
		\hline
	\caption[Types of dependencies]{Types of dependency \cite{ibm_dependencies}}
	\label{tab:dependencies}
\end{longtable}
}

In the following sections the different types of dependencies will be explained with examples.

\subsection{Usage}
In the context of modeling and software development, a usage relationship is a dependency in which one element (client) requires another element (supplier) for its full implementation or operation. 
The client element is considered incomplete without the supplier element. 
The usage relationship is represented using the stereotype \texttt{<<use>>} and is depicted using an arrow pointing from the client element to the supplier element. 
The client and supplier elements can be any named elements in the model. 
The difference between a usage relationship and a normal dependency relationship is minimal, with the main distinction being that the \texttt{<<use>>} stereotype may be used to specify that the dependency is specifically related to the actual use of the supplier element. \cite[p. 161]{uml}

%TODO Usage erklären

\vspace{1em}
\begin{minipage}{\linewidth}
	\centering
	\includegraphics[width=0.8\textwidth]{figures/dependencies/usage.jpg}
	\captionof{figure}[Example usage]{Example of usage}
	\label{fig:usage_example}
\end{minipage}
\vspace{1em}


In Figure \ref{fig:usage_example}, an example of a usage relationship between the \texttt{Drone} class and the \texttt{DoorHandle} class is displayed. The \texttt{DoorHandle} class contains the private attribute \texttt{type}, which stores information about the type of door handle, and the public operation \texttt{open()} which allows the door to be opened with a password.
This operation also utilizes the \texttt{state} enumeration to store the current state of the door handle, including "open", "closed", and "invalid" states.
It enters the invalid state if an error occures while opening or closing the door

The DoorHandle is built into various types of doors and is responsible for providing a mechanism for opening the door. 
The drone uses the DoorHandle to open doors as part of its delivery tasks and drops off the packages in the desired place. 
This can include the houses, garages or shacks. 
To open a door, the drone calls the public \texttt{open()} operation of the DoorHandle class and passes in the password for the door. 
If the password is correct, the door is opened and the Drone class can complete its delivery. 
Afterwards the door will be closed again with the public operation \texttt{closeDoor()}.

This usage relationship between the Drone and DoorHandle classes can be represented with a directed line with an arrowhead pointing from the Drone class to the DoorHandle class and the stereotype <<use>>. The Drone class is the client that uses the DoorHandle class, and the DoorHandle class is the supplier that provides the functionality for opening the door.

\subsection{Abstraction}
The abstraction relationship connects different levels of abstraction with each other.
Stereotypes are a way to add additional meaning to an element in a UML2 class diagram. 
The common stereotypes that refine the basic abstraction relationship are: \cite{ibm_dependencies}
\begin{itemize}
	\item \texttt{<<derive>>}: This stereotype indicates that the client element is calculated from the supplier element.
	\item \texttt{<<refine>>}: This stereotype indicates that the client element refines or improves upon the supplier element.
	\item \texttt{<<trace>>}: This stereotype can be used to link elements that have the same message content, but are each viewed in a different context or from a different perspective
\end{itemize}


In the following the two more common stereotypes \texttt{<<derive>>} and \texttt{<<refine>>}: will be explained with examples.

%TODO Use Location class from full diagram and change it

%As an example, consider the class \texttt{Drone} might have a dependency on a \texttt{GPS} class, indicating that it relies on the \texttt{GPS} class for location information. 
%This dependency could be represented with a <<derive>> stereotype, as the drone calculates its location based on the information provided by the GPS. The GPS has two private attributes: \texttt{longitude} and \texttt{latitude} which describe the position of the drone.
\vspace{1em}
\begin{minipage}{\linewidth}
	\centering
	\includegraphics[width=0.8\textwidth]{figures/dependencies/derive.jpg}
	\captionof{figure}[Example abstraction]{Example of a derive abstraction}
	\label{fig:derive_example}
\end{minipage}
\vspace{1em}


In Figure \ref{fig:derive_example}, an example of a dependency relationship between the \texttt{Drone} class and the \texttt{GPS} class is displayed. 
The \texttt{GPS} class contains the private attributes \texttt{latitude}, \texttt{longitude}, and \texttt{altitude}, which store information about the drone's current location. It also has the public operations \texttt{getLocation()} and \texttt{setLocation()}, which allow the Drone class to retrieve and update the location information provided by the GPS class.
This dependency can be represented with a <<derive>> stereotype, as the drone calculates its location based on the information provided by the GPS.

The Drone class depends on the GPS class for accurate location data, as it is essential for the drone to be able to determine its position and navigate to a desired location. To retrieve the current location, the Drone class calls the \texttt{getLocation()} operation of the GPS class and stores the returned location in its own \texttt{location} attribute. The Drone class can then use this information to perform actions such as flying to a specific location or avoiding obstacles.

This dependency between the Drone and GPS classes can be represented with a \texttt{<<derive>>} stereotype, as the drone calculates its location based on the information provided by the GPS. 
The GPS class is the supplier of this information, and the Drone class is the client that depends on it. 
Without the GPS, the drone would be unable to determine its location and would be unable to perform its intended functions.

%TODO Attribute zu location zu drone adden
%TODO Zweites Beispiel mit refine 
%TODO neue Überschrift?


\vspace{1em}
\begin{minipage}{\linewidth}
	\centering
	\includegraphics[width=0.8\textwidth]{figures/dependencies/refine.jpg}
	\captionof{figure}[Example abstraction]{Example of a refine abstraction}
	\label{fig:refine_example}
\end{minipage}
\vspace{1em}

In Figure \ref{fig:refine_example}, an example of a refinement relationship between the \texttt{DoorHandle} class and the \texttt{TwoFactorSecurityDoorHandle} class is displayed.

The \texttt{DoorHandle} class, which was previously used by the drone to open and close doors as part of its delivery tasks, has been refined by the \texttt{TwoFactorSecurityDoorHandle} class to add an extra layer of security. The \texttt{TwoFactorSecurityDoorHandle} class has a private attribute \texttt{contact} that stores the phone number, email address, or recipient's ID in the delivery app.

When the drone calls the new \texttt{closeDoor} operation of the \texttt{TwoFactorSecurityDoorHandle} class, the recipient will receive a notification that they must answer, in addition to the password that the drone inputs, in order for the door to be opened. This added security measure ensures that only the drone with the intended package can unlock the door.

The \texttt{TwoFactorSecurityDoorHandle} class is shown as the client element in the refinement relationship, which is depicted with a solid line with a closed triangle pointing from the \texttt{TwoFactorSecurityDoorHandle} class to the \texttt{DoorHandle} class. The stereotype \texttt{<<refine>>} is added to the relationship to indicate that the \texttt{TwoFactorSecurityDoorHandle} class refines the \texttt{DoorHandle} class.




\subsection{Binding}


In cases where a client has a dependency on several suppliers, a connector (represented as a small black dot) can be used to model the dependency. This allows designers and developers to represent complex dependency relationships in a clear and concise manner, making it easier to understand the dependencies and interactions between different parts of a system.


\section{Foo Foo}
Hier folgt nun ein Listing, was basically Code ist. Und hier verlinke ich darauf: \autoref{lst:cleaning_impurity}.

\begin{lstlisting}[language=Python,caption={Pythonbeispiel nach Albrecht et al. \cite{albrecht_blueprints_2020}},captionpos=b,label={lst:cleaning_impurity}]
def sexyFunction(x):
	return x + 69
\end{lstlisting}	

\subsection{Foo Foo Foo}
\blindtext

\chapter{Bar}
\blindtext
\begin{figure}[h]
	\centering
	\includegraphics[width=0.8\textwidth]{figures/pepe-example.png}
	\caption[Kürzerer Text für Abb.verzeichnis]{Ein äußerst wichtiger Frosch ist hier auf diesem Bild zu sehen. Diese Caption wäre zu lang für die Anzeige im Abb.verzeichnis, weswegen es diese eckigen Klammern gibt. Zitieren kannst du hier auch \cite{albrecht_blueprints_2020}}
	\label{fig:pepe_der_frosch} % UNTERHALB der \caption!
\end{figure}
\blindtext

\section{Bar Bar}
\blindtext
\\Es gibt eine wichtige Tabelle, nämlich die nun verlinkte \autoref{tab:frosch_tabelle_1}.

\subsection{Bar Bar Bar}
\blindtext
	\begin{table}[h]
	\centering
		\begin{tabular}{l|l|l}
		                        & Frosch         & Frosch        \\ \hline
		Strukturierter Frosch   & Datenabfrage   & Frosch Mining \\ \hline
		Unstrukturierter Frosch & Inhaltsabfrage & Text Frosch
		\end{tabular}%
	\caption[Eine Tabelle über Frösche]{Die Tabellencaption: Für Tabellen empfiehlt sich der https://www.tablesgenerator.com/}
	\label{tab:frosch_tabelle_1}
	\end{table}
\blindtext

\backmatter
%\listoftodos %remove if no longer needed

\printnoidxglossaries

% ACHTUNG: ursprüngl: alpha, aber das erzeugt keine Links
\bibliographystyle{wmaainf}
%\bibliographystyle{alpha}
\bibliography{refs}
\clearpage %\cleardoublepage

%-----------------------------------------------------------------------------------------------------------------

% remove if not needed
\appendix
%\pagenumbering{Alph}
\chapter{Supplemental Information}\label{app:supplemental-information}
Hier könnte Ihr Anhang stehen!


%-----------------------------------------------------------------------------------------------------------------


\end{document}